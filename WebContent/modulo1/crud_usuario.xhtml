<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"> 
	<h:head>
		<title>Login/Cadastro</title>
		<h:outputStylesheet library="css" name="bootstrap.min.css" />
		<h:outputStylesheet library="css" name="main.css" />
	</h:head> 

	<ui:composition template="../WEB-INF/template/layout.xhtml">
		<ui:define name="template">
		  <h:panelGrid columns="2">	
				
				<p:ajaxStatus onstart="PF('statusDialog').show()"
						onsuccess="PF('statusDialog').hide()" />
				 
				<p:dialog widgetVar="statusDialog" modal="true"
							draggable="false" closable="false" resizable="false" showHeader="false">
				    <p:graphicImage value="../resources/img/carregando.gif" wmode="transparent" />
				</p:dialog>
				
		        <h:form id="formLogin">
		          <h:panelGrid columns="1" id="Login">
		 					<h1>Login</h1>
		 					<h4>Inicie a sessão com uma conta existente na Purpose.</h4>
			                    <h:outputLabel value="Nome de usuário"></h:outputLabel>
			                    <p:inputText id="nome" label="Nome" value="#{usuarioControle.login}"
			                    required="true" requiredMessage="O Campo Nome é obrigatório.">
			                    </p:inputText>
			 				<p:separator/>	
	
								<h:outputLabel value="Senha"></h:outputLabel>

			                    <p:password id="senha" label="Senha" value="#{usuarioControle.senha}"
			                    required="true" requiredMessage="O Campo Escolha uma Senha é obrigatório."/>

			 				<p:separator/>	
						</h:panelGrid>
		 
		                <p:commandButton
		                		value="Logar"
		                		update=":formLogin"
		                		actionListener="#{usuarioControle.login}">
		                		
		                		<p:resetInput target="formLogin" />
		                		
		                </p:commandButton>
		 				<br />
		 					<h:message for="formLogin" style="color:red;"/>
		 				<br />
		         </h:form>
		 	
				
		        <h:form id="formCadastro">
		           <h:panelGrid columns="1" id="Cadastro">
		 					<h1>Criar uma Conta</h1>
		 					<h4>O cadastro é gratuito e o programa é fácil de usar. 
		 					Continue para criar a sua conta Purpose.</h4>
		 						
	 							<br />
				 					<h:message for="formCadastro" style="color:red;"/>
				 				<br />
			                    
			                    <h:outputLabel value="Nome"/>
			                    <p:inputText id="nome" label="Nome"
				                    required="true" requiredMessage="O Campo Nome é obrigatório."
				                    value="#{usuarioControle.vo.nome}" />
			                    
			                    <h:outputLabel value="Criar um nome de usuário"/>
			                    <p:inputText id="login" label="Login"
				                    required="true" requiredMessage="O Campo Login é obrigatório."
				                    value="#{usuarioControle.vo.login}" />
			                    
			 				<p:separator/>	
	
								<h:outputLabel value="Senha"/>
			                    <p:password id="senha" value="#{usuarioControle.vo.senha}" required="true"
			                    	feedback="true" promptLabel="Por favor preencha a senha"
				                    weakLabel="Senha Fraca" goodLabel="Bom" strongLabel="Senha forte"/>
			                    
			 				<p:separator/>	
			 				
								<h:outputLabel value="Seu endereço de e-mail" />
			                    <p:inputText id="email" label="email" required="true"
			                    	requiredMessage="O Campo Seu endereço de email é obrigatório."
			                    	value="#{usuarioControle.vo.email}"/>
			                    
			 				<p:separator/>	
						</h:panelGrid>
		 
		                <p:commandButton
		                	value="Cadastrar" update=":formCadastro"
		                	actionListener="#{usuarioControle.cadastrarUsuario}">
		                	
		                	<p:resetInput target="formCadastro" />
		                </p:commandButton>
		                
		                
		                
		         </h:form>
			
		  </h:panelGrid>		
		</ui:define>
	</ui:composition>
	
</html>
